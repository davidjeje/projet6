{% extends 'base.html.twig' %}

{% block slide1 %}
    {% set image = trick.image|default('1.jpeg') %}

    <div class="slide">      
        <!-- Slide image -->
        <img src="{{ asset('images/'~trick.image) }}" class="img-responsive" alt=""/>
        <!-- /Slide image -->
        <!-- Texts container -->
        <div class="slide_content">
            <div class="slide_content_wrap">
            <!-- Text title -->
                <h1 class="title">{{ trick.name }}</h1>
                <!-- /Text title --> 
                    <div class="nn">
                        {% if is_granted('ROLE_USER') and trick.auteur|length > 0 %}

                            {% if  trick.auteur[0] and app.user == trick.auteur[0] %}
                                <a href="{{ path('edit_image', {'slug': trick.slug, 'numberImage': '1'}) }}"><i class="fas fa-pen"></i></a>
                                
                                
                            {% endif %}

                        {% endif %}
                        
                    </div>                      
            </div>
        </div>
    </div>

{% endblock %}

{% block slide2 %}{% endblock %}


{% block content1 %}

    <button class="vu visible-xs-*">Voir les vidéos</button>
    <div class="video hidden-xs ">
    
        <div class="d-flex flex-row">
            <div class="p-2">
                <!-- Card -->
                <div class="card">
                    {% set raw = "raw" %}
                    <!-- Card image -->
                    {{ trick.video|raw }}
                    <!-- Card content -->
                    <div class="card-body">
                        <!-- Title -->
                        <h4 class="card-title"><a>Modifier cette vidéo ?</a></h4>
                        <!-- Button -->
                        <a href="{{ path('tricks_video', {'slug': trick.slug, 'numberVideo':'1'}) }}"><i class="fas fa-pen"></i></a>                      
                    </div>
                </div>
                <!-- Card --> 
            </div>

            <div class="p-2">
                <!-- Card -->
                <div class="card">
                    <!-- Card image -->
                    {{ trick.secondeVideo|raw }}
                    <!-- Card content -->
                    <div class="card-body">
                        <!-- Title -->
                        <h4 class="card-title"><a>Modifier cette vidéo ?</a></h4>
                        <!-- Button -->
                        <a href="{{ path('tricks_video', {'slug': trick.slug, 'numberVideo':'2'}) }}"><i class="fas fa-pen"></i></a>                      
                    </div>
                </div>
                <!-- Card -->
            </div>

                <div class="p-2"> 
                    <!-- Card -->
                    <div class="card">
                        <!-- Card image -->
                        {{ trick.troisiemeVideo|raw }}
                        <!-- Card content -->
                        <div class="card-body">
                            <!-- Title -->
                            <h4 class="card-title"><a>Modifier ou supprimer cette vidéo ?</a></h4>
                            <!-- Button -->
                            <a href="{{ path('tricks_video', {'slug': trick.slug, 'numberVideo':'3'}) }}"><i class="fas fa-pen"></i></a>                    
                        </div>
                    </div>
                    <!-- Card -->
                </div>

                <div class="p-2">
                <!-- Card -->
                <div class="card">
                    <div class="view overlay">
                        <!-- Card image -->
                        <img class="card-img-top" src="{{ asset('images/'~trick.image) }}" alt="Card image cap" className="img-fluid">
                        <a href="#!">
                        <div class="mask rgba-white-slight"></div>
                        </a>
                    </div>  
                    
                    <!-- Card content -->
                    <div class="card-body">
                        <!-- Title -->
                        <h4 class="card-title"><a>Modifier cette image ?</a></h4>
                        <p class="card-text">
                            <!-- Button -->
                            <a href="{{ path('edit_image', {'slug': trick.slug, 'numberImage':'2'}) }}"><i class="fas fa-pen"></i></a>
                        </p>             
                    </div>
                </div>
                <!-- Card --> 
            </div>
        </div>
    </div>

    
    <br>
    <hr>

     <div class="col-12 slide" style="display: block;">
        <div class="col-12">
            <br>
            <br>
            <br>
            <br>
            <br>
            <div class="login-page">
            <!-- Material form login -->
                <div class="card">

                    <h5 class="card-header info-color white-text text-center py-4">
                        <strong>Suppression d'une figure</strong>
                    </h5>

                <!--Card content-->
                    <div class="card-body w-100">
                        {{form_start(form)}}
                            <div class="md-form w-100">
                                {{ form_label(form.name) }}
                                {{ form_widget(form.name, {'attr': {'class': 'form-control', 'id': 'materialLoginFormEmail'} }) }}    
                            </div>

                            <div class="md-form w-100">
                                {{ form_label(form.description) }}
                                {{ form_widget(form.description, {'attr': {'class': 'form-control', 'id': 'materialLoginFormEmail'} }) }} 
                            </div>

                            <div class="md-form w-100">
                                {{ form_label(form.level) }}
                                {{ form_widget(form.level, {'attr': {'class': 'form-control', 'id': 'materialLoginFormEmail'} }) }}   
                            </div>

                            <div class="md-form w-100">
                                {{ form_label(form.groupname) }}
                                {{ form_widget(form.groupname, {'attr': {'class': 'form-control', 'id': 'materialLoginFormEmail'} }) }}
                            </div>

                            <div class="md-form w-100">
                                {{ form_widget(form.image, {'attr': {'class': 'form-control'} }) }}
                            </div>

                            <div class="md-form w-100">
                                {{ form_widget(form.secondeImage, {'attr': {'class': 'form-control'} }) }}
                            </div>


                            <div class="md-form w-100">
                                {{ form_label(form.video) }}
                                {{ form_widget(form.video, {'attr': {'class': 'form-control'} }) }}   
                            </div>

                            <div class="md-form w-100">
                                {{ form_label(form.secondeVideo) }}
                                {{ form_widget(form.secondeVideo, {'attr': {'class': 'form-control'} }) }}   
                            </div>

                            <div class="md-form w-100">
                                {{ form_label(form.troisiemeVideo) }}
                                {{ form_widget(form.troisiemeVideo, {'attr': {'class': 'form-control'} }) }}   
                            </div>
                    <div>
                </div>

            </div>
        </div>
                        {{form_end(form)}}
        <br>
    </div>
{{ include('tricks/_delete_form.html.twig') }}
        <br>
                  
    </div>

    <a href="{{ path('tricks_index') }}">revenir sur la page d'accueil</a>

       
{% endblock %}

{% block slide3 %}
    <div class="timers"></div>
    <div class="slidePrev"><span></span></div>      
{% endblock %}

{% block content2 %}

{% endblock %}
{% block javascript %}
<script type="text/javascript">
    $('.vu').click(function() 
    {
        $('.video').toggleClass( "hidden-xs" );

        if($('.vu').html().trim() == 'Voir les vidéos')
        {
            $('.vu').html('cacher la vidéo');
        }
        else
        {
            $('.vu').html('Voir les vidéos');
        }
    })
</script>
{% endblock %}

